<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libconsole: Main Page</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>libconsole Documentation</h1>
<p>
<h3 align="center">0.1.0</h3><h1>libconsole</h1>
<p>
libconsole is a C++ library that parses commands from the user and applies them on C++ objects.
<h2>Features</h2>
<p>Currently there is only support for modifying functions with an int or a float.
<h2>License</h2>
libconsole is released under the GNU LESSER GENERAL PUBLIC LICENSE (LGPL) license. See the LICENSE file for more information.
<h2>How to use</h2>
<h3>Build libconsole</h3>
To use the library you first have to build it. Available projects are VS2003.NET, Dev-C++ and Codeblocks. If you don't have any of these IDEs you
have to set up your own project.
<h3>Most simple application</h3>
Set up the include path in your IDE and link with libconsole.lib (libconsole.a).
To create an object that should be modifyable by the console manager, that class have to inherit from Console::Listener, and implement the initialize() function.
<div class="fragment"><pre class="fragment">#include "console.h"

class Foo : public Console::Listener
{
public:
	Foo(const std::string &name) : Console::Listener(name) {}
	~Foo()
	{
		Console::Manager::singleton()->removeRef1i(mName, "setbar");
	}

	virtual void initialize()
	{
		Console::Manager::singleton()->addRef1i(mName, "setbar", this, setBarWrapper);
	}

	void setBar(int x) { mBar = x; }

private:
	static void setBarWrapper(void* object, int param)
	{
		reinterpret_cast&lt;Foo*&gt;(object)->setBar(param);
	}

	int mBar;
};

int main()
{
	Foo* foo = new Foo("myfoo");
	// Tells the console manager to listen for the "myfoo" object with function "setbar".
	foo->initialize();

	// Sets the mBar member to 10.
	Console::Manager::singleton()->executeCommand("myfoo setbar 10");

	delete foo;

	// Removes the console manager.
	Console::Manager::singleton()->clear();

	return 0;
}
</pre></div>

<h2>Sample application</h2>
<div class="fragment"><pre class="fragment">#include "console.h"
#include &lt;iostream&gt;

class Car : public Console::Listener
{
public:
	Car(const std::string &name) : Console::Listener(name), mSpeed(0), mAcceleration(0)
	{
	}
	~Car();

	virtual void initialize();

	void setSpeed(int speed) { mSpeed = speed; }
	int getSpeed() { return mSpeed; }

	void setAcceleration(float acceleration) { mAcceleration = acceleration; }
	float getAcceleration() { return mAcceleration; }

private:
	static void setSpeedWrapper(void* object, int speed)
	{
		reinterpret_cast&lt;Car*&gt;(object)->setSpeed(speed);
	}
	static void setAccelerationWrapper(void* object, float acceleration)
	{
		reinterpret_cast&lt;Car*&gt;(object)->setAcceleration(acceleration);
	}

	int   mSpeed;
	float mAcceleration;
};

void Car::initialize()
{
	Console::Manager::singleton()->addRef1i(mName, "setspeed", this, setSpeedWrapper);
	Console::Manager::singleton()->addRef1f(mName, "setacceleration", this, setAccelerationWrapper);
}

Car::~Car()
{
	Console::Manager::singleton()->removeRef1i(mName, "setspeed");
	Console::Manager::singleton()->removeRef1f(mName, "setacceleration");
}

int main()
{
	Car* car = new Car("mycar");
	car->initialize();
	Car* car2 = new Car("yourcar");
	car2->initialize();

	std::string com1, com2, com3;
	while(true)
	{
		system("cls");
		std::cout << "---Car 1--------------------------------------" << std::endl;
		std::cout << "Name                          : " << car->getName() << std::endl;
		std::cout << "Speed        (setspeed)       : " << car->getSpeed() << std::endl;
		std::cout << "Acceleration (setacceleration): " << car->getAcceleration() << std::endl;
		std::cout << "---Car 2--------------------------------------" << std::endl;
		std::cout << "Name                          : " << car2->getName() << std::endl;
		std::cout << "Speed        (setspeed)       : " << car2->getSpeed() << std::endl;
		std::cout << "Acceleration (setacceleration): " << car2->getAcceleration() << std::endl;
		std::cout << "----------------------------------------------" << std::endl;
		std::cout << "//Syntax : [objectname] [function] [value]" << std::endl;
		std::cout << "//Example: \"mycar setspeed 10\"" << std::endl;
		std::cout << "$: ";
		std::cin >> com1 >> com2 >> com3;
		Console::Manager::singleton()->executeCommand(com1 + " " + com2 + " " + com3);
	}

	delete car;
	delete car2;

	Console::Manager::singleton()->clear();

	system("pause");
	return 0;
}
</pre></div>
<h2>Author</h2>
libconsole is written by Joachim Klahr.
<h3 align="center">0.1.0 </h3><hr size="1"><address style="align: right;"><small>Generated on Sun Jun 11 21:10:55 2006 for libconsole by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
